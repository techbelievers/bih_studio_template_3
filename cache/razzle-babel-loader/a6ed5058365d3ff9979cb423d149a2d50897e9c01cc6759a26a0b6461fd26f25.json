{"ast":null,"code":"var _jsxFileName = \"/Users/rajpatil/TechBelievers/buyindiahomes/bih_ui_web_4/bih-web-ui-4/src/components/template1/components/Video.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect, useRef } from 'react';\nimport { API } from '../../../Config'; // Use your config.js structure\nimport '../css/Video.css'; // Ensure the path is correct\n\nconst Video = () => {\n  const {\n    0: videoData,\n    1: setVideoData\n  } = useState([]);\n  const {\n    0: heading,\n    1: setHeading\n  } = useState(\"\");\n  const {\n    0: subheading,\n    1: setSubHeading\n  } = useState(\"\");\n  const videoRefs = useRef([]);\n  useEffect(() => {\n    const fetchVideoData = async () => {\n      try {\n        var _data$page, _data$page2;\n        const response = await fetch(API.VIDEO());\n        const data = await response.json();\n        setVideoData(data.property_videos);\n        setHeading(((_data$page = data.page) === null || _data$page === void 0 ? void 0 : _data$page.heading) || 'Video');\n        setSubHeading(((_data$page2 = data.page) === null || _data$page2 === void 0 ? void 0 : _data$page2.subheading) || '');\n      } catch (error) {\n        console.error('Error fetching video data:', error);\n      }\n    };\n    fetchVideoData();\n  }, []);\n\n  // Intersection Observer to autoplay video when in view\n  useEffect(() => {\n    const refs = videoRefs.current; // Copy ref to a local variable\n\n    const observer = new IntersectionObserver(entries => {\n      entries.forEach(entry => {\n        const videoElement = entry.target.querySelector('iframe');\n        if (entry.isIntersecting) {\n          const src = videoElement.src;\n          if (!src.includes(\"autoplay=1\")) {\n            videoElement.src = `${src}?autoplay=1&mute=1`;\n          }\n        }\n      });\n    }, {\n      threshold: 0.5\n    });\n    refs.forEach(videoRef => {\n      if (videoRef) observer.observe(videoRef);\n    });\n    return () => {\n      refs.forEach(videoRef => {\n        if (videoRef) observer.unobserve(videoRef);\n      });\n    };\n  }, [videoData]);\n  return __jsx(\"div\", {\n    className: \"video-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, __jsx(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, heading), __jsx(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, subheading), __jsx(\"div\", {\n    className: \"video-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, videoData.length > 0 ? videoData.map((video, index) => __jsx(\"div\", {\n    key: video.id,\n    className: \"video-item\",\n    ref: el => videoRefs.current[index] = el,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, __jsx(\"iframe\", {\n    width: \"100%\",\n    height: \"315\",\n    src: `https://www.youtube.com/embed/${video.youtube_video_id}`,\n    title: \"Property Video\",\n    frameBorder: \"0\",\n    allowFullScreen: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  }))) : __jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, \"Loading videos...\")));\n};\nexport default Video;","map":{"version":3,"names":["React","useState","useEffect","useRef","API","Video","videoData","setVideoData","heading","setHeading","subheading","setSubHeading","videoRefs","fetchVideoData","_data$page","_data$page2","response","fetch","VIDEO","data","json","property_videos","page","error","console","refs","current","observer","IntersectionObserver","entries","forEach","entry","videoElement","target","querySelector","isIntersecting","src","includes","threshold","videoRef","observe","unobserve","__jsx","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","length","map","video","index","key","id","ref","el","width","height","youtube_video_id","title","frameBorder","allowFullScreen"],"sources":["/Users/rajpatil/TechBelievers/buyindiahomes/bih_ui_web_4/bih-web-ui-4/src/components/template1/components/Video.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { API } from '../../../Config'; // Use your config.js structure\nimport '../css/Video.css'; // Ensure the path is correct\n\nconst Video = () => {\n  const [videoData, setVideoData] = useState([]);\n  const [heading, setHeading] = useState(\"\");\n  const [subheading, setSubHeading] = useState(\"\");\n  const videoRefs = useRef([]);\n\n  useEffect(() => {\n    const fetchVideoData = async () => {\n      try {\n        const response = await fetch(API.VIDEO());\n        const data = await response.json();\n        setVideoData(data.property_videos);\n        setHeading(data.page?.heading || 'Video');\n        setSubHeading(data.page?.subheading || '');\n      } catch (error) {\n        console.error('Error fetching video data:', error);\n      }\n    };\n\n    fetchVideoData();\n  }, []);\n\n  // Intersection Observer to autoplay video when in view\n  useEffect(() => {\n    const refs = videoRefs.current; // Copy ref to a local variable\n\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          const videoElement = entry.target.querySelector('iframe');\n          if (entry.isIntersecting) {\n            const src = videoElement.src;\n            if (!src.includes(\"autoplay=1\")) {\n              videoElement.src = `${src}?autoplay=1&mute=1`;\n            }\n          }\n        });\n      },\n      { threshold: 0.5 }\n    );\n\n    refs.forEach((videoRef) => {\n      if (videoRef) observer.observe(videoRef);\n    });\n\n    return () => {\n      refs.forEach((videoRef) => {\n        if (videoRef) observer.unobserve(videoRef);\n      });\n    };\n  }, [videoData]);\n\n  return (\n    <div className=\"video-container\">\n      <h2>{heading}</h2>\n      <h4>{subheading}</h4>\n      <div className=\"video-wrapper\">\n        {videoData.length > 0 ? (\n          videoData.map((video, index) => (\n            <div key={video.id} className=\"video-item\" ref={el => videoRefs.current[index] = el}>\n              <iframe\n                width=\"100%\"\n                height=\"315\"\n                src={`https://www.youtube.com/embed/${video.youtube_video_id}`}\n                title=\"Property Video\"\n                frameBorder=\"0\"\n                allowFullScreen\n              ></iframe>\n            </div>\n          ))\n        ) : (\n          <p>Loading videos...</p>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Video;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}